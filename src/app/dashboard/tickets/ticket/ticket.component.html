<article>
    <h3>
      <div
        [class]="{
          'ticket-open': ticket.status === 'open',
          'ticket-closed': ticket.status === 'closed'
        }"
      ></div>
      <button (click)="toggleExpand()">
        <span class="text">{{ticket.title}}</span>
        <span class="icon">
          @if (isExpanded) {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="m19.5 8.25-7.5 7.5-7.5-7.5"
            />
          </svg>
  
          } @else {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="w-6 h-6"
          >
            <path
              fill-rule="evenodd"
              d="M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z"
              clip-rule="evenodd"
            />
          </svg>
          }
        </span>
      </button>
    </h3>
  
    @if (isExpanded) {
    <div class="ticket-content">
        <p>{{ticket.request}}</p>
    
        <div class="ticket-actions">
            <button class="action-btn complete" 
                    [class.completed]="ticket.status === 'closed'"
                    [disabled]="ticket.status === 'closed'"
                    (click)="onMarkAsCompleted()">
                <span class="material-icons">check_circle</span>
            </button>
            <button class="action-btn delete" (click)="onDeleteTicket()">
                <span class="material-icons">delete_outline</span>
            </button>
        </div>
    </div>
}
  </article>